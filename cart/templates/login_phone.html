<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Enter Phone</title>

    <style>
    /* ---------- Full-page animated gradient background ---------- */
    body {
    font-family: "Inter", Arial, sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: 70px !important; /* FIX FOR NAVBAR */
    background: linear-gradient(-45deg, #ff6ec4, #7873f5, #42e695, #f9f586);
    background-size: 400% 400%;
    animation: bgAnimation 15s ease infinite;
}


    @keyframes bgAnimation {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* ---------- Card with animated gradient border ---------- */
    .card {
        width: 380px;
        padding: 28px;
        border-radius: 20px;
        position: relative;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(15px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        animation: fadeIn 0.6s ease;
        z-index: 1;
    }

    .card::before {
        content: "";
        position: absolute;
        inset: 0;
        padding: 3px;
        border-radius: 20px;
        background: linear-gradient(60deg, #ff6ec4, #7873f5, #42e695, #f9f586, #ff6ec4);
        background-size: 300% 300%;
        animation: borderFlow 6s linear infinite;
        -webkit-mask: 
            linear-gradient(#fff 0 0) content-box, 
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
                mask-composite: exclude;
        z-index: -1;
    }

    @keyframes borderFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* ---------- Title ---------- */
    h2 {
        margin: 0 0 18px 0;
        font-size: 26px;
        font-weight: 700;
        color: #ffffff;
        text-align: center;
        text-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }

    /* ---------- Labels ---------- */
    p label {
        font-size: 15px;
        font-weight: 600;
        color: #e0e0e0;
    }

    /* ---------- Input fields with glass effect ---------- */
    input[type="text"],
    input[type="tel"] {
        width: 100%;
        padding: 12px 14px;
        margin-top: 6px;
        border-radius: 10px;
        border: none;
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(8px);
        color: #fff;
        font-size: 15px;
        box-shadow: inset 1px 1px 4px rgba(255,255,255,0.2), inset -1px -1px 6px rgba(0,0,0,0.2);
        transition: 0.3s ease;
    }

    input[type="text"]::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }

    input[type="text"]:focus,
    input[type="tel"]:focus {
        background: rgba(255, 255, 255, 0.35);
        box-shadow: 0 0 8px rgba(255,255,255,0.5), 0 0 12px rgba(99, 102, 241, 0.6);
        outline: none;
    }

    /* ---------- Button ---------- */
    button {
        width: 100%;
        padding: 14px;
        margin-top: 12px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(90deg, #ff6ec4, #7873f5, #42e695);
        background-size: 200% 200%;
        color: white;
        font-weight: 600;
        font-size: 16px;
        cursor: pointer;
        transition: 0.4s ease-in-out;
    }

    button:hover {
        background-position: right;
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }

    .login_class{
        text-decoration: none;
        color: whitesmoke;
    }

    /* ---------- Error messages ---------- */
    .messages div,
    .errors {
        background: rgba(255, 50, 50, 0.15);
        color: #ff3b3b;
        padding: 8px 10px;
        border-radius: 8px;
        margin-top: 6px;
        font-size: 14px;
    }

    /* ---------- Fade animation ---------- */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to   { opacity: 1; transform: translateY(0); }
    }

/* login page navbar links============= */

/* ---- LOGIN NAVBAR FIX ---- */
.login-navbar {
    width: 100%;
    background: rgba(255, 255, 255, 0.15); /* semi-transparent glass effect */
    backdrop-filter: blur(15px);
    border-bottom: 1px solid rgba(255,255,255,0.3); /* subtle border */
    padding: 15px 20px;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
}


.navbar-link {
    color:whitesmoke !important;
    text-decoration: none;
    font-size: 30px;
    font-family: serif;
    font-weight: 700;
}

.navbar-link:hover {
    color: #000 !important;
}
@media (max-width: 700px) {

    /* ðŸ”§ Stop mobile up/down jumping */
    body {
        min-height: 100svh;     /*stable viewport height*/
        height: auto;
        padding-top: 80px;     /* navbar space */
        overflow-x: hidden;
    }

    /* ðŸ”§ Remove flex centering on mobile */
    body {
        display: block;
    }

    /* ðŸ”§ Center card safely */
    .card {
        width: 100%;
        max-width: 360px;
        margin: 40px auto;
    }

    /* ðŸ”§ Fix navbar scroll jitter */
    .login-navbar {
        /* position: sticky; */
        top: 0;
    }

    /* ðŸ”§ Reduce repaint cost (prevents shake) */
    body {
        background-attachment: fixed;
    }
}


</style>
</head>

<body>
    <!-- ==================nav bar==================  -->

    <!-- White Navbar -->
<nav class="login-navbar">
    

    <!-- Right Side: Menu Links -->
    <div>
        <a href="{% url 'home' %}" class="navbar-link">Home
        </a>
    </div>
</nav>





    <div class="card">
        <h2>Register</h2>

        {% if messages %}
        <div class="messages">
            {% for m in messages %}
                <div{% if m.tags %} class="{{ m.tags }}"{% endif %}>{{ m }}</div>
            {% endfor %}
        </div>
        {% endif %}

        <form method="post" novalidate>
            {% csrf_token %}
            {{ form.non_field_errors }}

            <p>
                {{ form.name.label_tag }}
                {{ form.name }}
                {% if form.name.errors %}
                    <div class="errors">{{ form.name.errors|striptags }}</div>
                {% endif %}
            </p>



            <p>
                <label>Mobile Number</label>

                <div style="display:flex; gap:8px; align-items:center;">
                    <!-- Fixed Country Code -->
                    <input type="text"
                           value="+91"
                           disabled
                           style="
                               width:70px;
                               text-align:center;
                               font-weight:600;
                               background: rgba(255, 255, 255, 0.25);
                               border-radius:10px;
                               border:none;
                               color:#fff;
                           ">

                    <!-- Phone Input -->
                    {{ form.phone }}
                </div>
            
                {% if form.phone.errors %}
                    <div class="errors">{{ form.phone.errors|striptags }}</div>
                {% endif %}
            </p>


            <button type="submit" name="action" value="signup">Send OTP</button>
        </form>
            <button><a href=" {% url 'login_phone_view' %}" class="login_class">Login</a></button>

    </div>



    <!-- checking user already registered are not=========== -->

<script>
document.addEventListener("DOMContentLoaded", function () {
    const phoneInput = document.querySelector("input[name='phone']");

    if (phoneInput) {
        phoneInput.addEventListener("input", function () {
            // Remove everything except digits
            this.value = this.value.replace(/[^0-9]/g, "");
        });
    }
});
</script>
</body>
</html>
